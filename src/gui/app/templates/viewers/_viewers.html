<div class="p-6 mx-0 flex justify-between" ng-if="isViewerDBOn">
    <button ng-click="vs.updateViewers()" class="btn btn-primary">
        <i class="far fa-sync mr-2"></i> Refresh
    </button>
    <button ng-click="showImportViewersModal()" class="btn btn-primary ml-2">
        <i class="fas fa-cloud-download-alt mr-2"></i> Import Viewers
    </button>
    <button ng-click="showPurgeViewersModal()" class="btn btn-danger ml-2">
        <i class="fas fa-trash-alt mr-2"></i> Purge Viewers
    </button>
    <div class="flex justify-between" style="margin-left: auto;">
        <searchbar placeholder-text="Search Firebot viewers..." query="viewerSearch" style="flex-basis: 250px"></searchbar>
        <button ng-click="showViewerSearchModal();" class="btn btn-default ml-2"><i class="far fa-search"></i> Search Twitch</button>
    </div>
</div>

<div class="p-6" ng-if="isViewerDBOn">
    <sortable-table
        table-data-set="vs.viewers"
        headers="headers"
        query="viewerSearch"
        clickable="true"
        on-row-click="viewerRowClicked(data)"
        track-by-field="_id"
        starting-sort-field="username"
        no-data-message="No viewer data available yet!"
        page-size="viewerTablePageSize"
    >
    </sortable-table>
</div>

<div ng-if="!isViewerDBOn" class="flex flex-col justify-center items-center" style="height: 100%">
    <p class="muted">The viewer database is turned off.</p>
    <button ng-click="turnOnDatabase()" class="btn btn-primary">
        Turn on viewer database
    </button>
</div>